<form #structureForm="ngForm" novalidate>

  <mat-card>
    <mat-card-header>
      <mat-card-title>Elementos</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-form-field class="number-field" hideRequiredMarker="true">
        <mat-label>Nó i</mat-label>
        <mat-select [(value)]="i">
          <mat-option *ngFor="let node of nodes" [value]=node.number>
            {{node.number}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="number-field" hideRequiredMarker="true">
        <mat-label>Nó j</mat-label>
        <mat-select [(value)]="j">
          <mat-option *ngFor="let node of nodes" [value]=node.number>
            {{node.number}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="number-field" hideRequiredMarker="true">
        <mat-label>Material</mat-label>
        <mat-select [(value)]="material">
          <mat-option *ngFor="let material of materials" [value]=material>
            {{material.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="number-field" hideRequiredMarker="true">
        <mat-label>Seção</mat-label>
        <mat-select [(value)]="section">
          <mat-option *ngFor="let section of sections" [value]=section>
            {{section.number}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions align='end'>
      <button mat-button (click)="addElement()"><i class="fas fa-plus"></i></button>
    </mat-card-actions>
  </mat-card>

  <table mat-table *ngIf="elements.length > 0" [dataSource]="elements">

    <ng-container matColumnDef="number">
      <th mat-header-cell *matHeaderCellDef> Elem. </th>
      <td mat-cell *matCellDef="let element"> {{element.number}} </td>
    </ng-container>

    <ng-container matColumnDef="i">
      <th mat-header-cell *matHeaderCellDef> I </th>
      <td mat-cell *matCellDef="let element"> {{element.i}} </td>
    </ng-container>

    <ng-container matColumnDef="j">
      <th mat-header-cell *matHeaderCellDef> J </th>
      <td mat-cell *matCellDef="let element"> {{element.j}} </td>
    </ng-container>

    <ng-container matColumnDef="material">
      <th mat-header-cell *matHeaderCellDef> Material </th>
      <td mat-cell *matCellDef="let element"> {{element.material.name }} </td>
    </ng-container>

    <ng-container matColumnDef="section">
      <th mat-header-cell *matHeaderCellDef> Seção </th>
      <td mat-cell *matCellDef="let element"> {{element.section.number }} </td>
    </ng-container>

    <ng-container matColumnDef="trash">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="removeElement(element)"><i class="far fa-trash-alt"></i></button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>